<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" xmlns:pxa="http://typo3.org/ns/Pixelant/PxaSocialFeed/ViewHelpers" data-namespace-typo3-fluid="true">
<b><f:translate key="module.app_id"/></b>: {token.appId}<br />
<b><f:translate key="module.app_secret"/></b>: {token.appSecret}<br />

<f:if condition="{token.validFacebookAccessToken}">
    <f:then>
        <p class="bg-success bg-notification">
            <f:translate key="module.token_valid" />
            <br>
            <f:translate key="module.valid_days" arguments="{0: token.facebookAccessTokenValidPeriod}" />
        </p>
    </f:then>
    <f:else>
        <pxa:facebookLoginUrl token="{token}" loginUrlAs="loginUrl" redirectUrlAs="redirectUrl">
            <p class="bg-warning bg-notification">
                <b>Access token generation is required</b>
                <br>
                <br>

                Note: URL <b>"<span id="redirect-uri-holder">{redirectUrl}</span>"</b> must be in the <b>Valid OAuth redirect URIs</b> list by going to the App Dashboard,
                choosing your app and going to <b>Products > Facebook Login > Settings</b> under the <b>Client OAuth Settings</b> and entering it there.

                <br>
                <br>
                <button class="btn btn-default" id="copy-redirect-uri-button" data-clipboard-target="#redirect-uri-holder">
                    <f:translate key="module.copy_url" />
                </button>
            </p>
            <a href="{loginUrl}" target="_blank" class="btn btn-info">
                <f:translate key="module.generate_access_token" />
            </a>

            <f:link.action action="index" arguments="{activeTokenTab: '1'}" class="btn btn-default">
                <f:translate key="module.refresh" />
            </f:link.action>
        </pxa:facebookLoginUrl>
    </f:else>
</f:if>
</html>