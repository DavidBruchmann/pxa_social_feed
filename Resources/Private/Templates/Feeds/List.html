<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
     xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
     xmlns:pxa="http://typo3.org/ns/Pixelant/PxaSocialFeed/ViewHelpers">

    <f:layout name="Default"/>
    
    <f:section name="main">
        <ul class="social-feed-container owl-carousel" data-like-load="{f:if(then: '1', else: '0', condition: settings.loadLikesCount)}">
            <f:for each="{feeds}" as="feed">
                <li class="social-feed-{pxa:format.lowerCase(string: feed.configuration.token.socialTypeDescription)} social-configuration-{pxa:format.lowerCase(string: feed.configuration.configName)}">
                    <a href="{feed.postUrl}" target="_blank">
                        <f:if condition="{feed.title}">
                            <h3 class="social-feed-title">{feed.title}</h3>
                        </f:if>

                        <f:if condition="{feed.image}">
                            <f:then>
                                <div class="social-feed-image-container" style="background-image:url({feed.image});">
                                    <div class="social-feed-information">
                                        <span class="social-feed-date">{feed.postDate -> f:format.date(format: settings.dateFormat)}</span>
                                    </div>
                                </div>
                            </f:then>
                            <f:else>
                                <div class="social-feed-image-container no-image">
                                    <div class="social-feed-information">
                                        <span class="social-feed-date">{feed.postDate -> f:format.date(format: settings.dateFormat)}</span>
                                    </div>
                                </div>
                            </f:else>
                        </f:if>
                        <p class="social-feed-message">{feed.message -> f:format.raw()}</p>
                    </a>
                </li>
            </f:for>
        </ul>
    </f:section>
</div>
